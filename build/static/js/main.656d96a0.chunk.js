(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{14:function(e,t,n){e.exports=n(37)},36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(13),c=n.n(o),i=n(2),u=n(3),l=n.n(u);function m(e){return function(t){e(t.target.value)}}function s(e){console.log(e)}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s;l.a.get(e).then((function(e){t(e.data)})).catch((function(e){console.log(e),n(String(e))}))}function p(e){e.msgSetter(e.content),e.typeSetter(e.type),setTimeout(function(e){return function(){e.msgSetter(null),e.typeSetter(null)}}(e),e.duration)}var d=function(e){var t=e.keyword,n=e.setter;return a.a.createElement("form",null,a.a.createElement("p",null,a.a.createElement("label",null,"filter shown with "),a.a.createElement("input",{value:t,onChange:m(n)})))},S=function(e){var t=e.type,n=e.description,r=e.value,o=e.setter;return a.a.createElement("p",null,a.a.createElement("label",null,n,a.a.createElement("input",{type:t,value:r,onChange:m(o)})))},g="http://localhost:3001/api/persons";function v(e,t){return function(n){var r=n.message;n.response&&n.response.data&&n.response.data.error&&(r=n.response.data.error),p({content:"".concat(n.name," - ").concat(r),type:"error",msgSetter:e,typeSetter:t,duration:5e5})}}function y(e,t){return function(){f(g,e,v(t.notificationSetter,t.msgTypeSetter))}}function b(e,t,n){return function(r){if(0===r.length)return p({content:"Information on ".concat(t.name," no longer exists"),type:"error",msgSetter:n.notificationSetter,typeSetter:n.msgTypeSetter,duration:5e3}),void n.personSetter(e);var a=Object(i.a)(r,1)[0];!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:s;l.a.put(e,t).then((function(e){n(e.data)})).catch((function(e){r(e)}))}("".concat(g,"/").concat(a.id),{name:t.name,number:t.number},function(e,t){return function(n){var r=n.name,a=n.number,o=e.concat({number:a,name:r});t.personSetter(o),p({content:"Updated ".concat(r),type:"notification",msgSetter:t.notificationSetter,typeSetter:t.msgTypeSetter,duration:5e3})}}(e,n),v(n.notificationSetter,n.msgTypeSetter))}}function h(e,t,n){f("".concat(g,"?name=").concat(e),t,v(n.notificationSetter,n.msgTypeSetter))}function E(e,t){return function(n){if("undefined"!==typeof n.find((function(t){return t.name===e.name}))){var r="".concat(e.name," is already added to the ")+"phonebook, replace the old number with a new one?";window.confirm(r)&&function(e,t,n){var r=e.filter((function(e){return e.name!==t.name}));h(t.name,b(r,t,n),n)}(n,e,t)}else!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:s;l.a.post(e,t).then((function(e){n(e.data)})).catch((function(e){r(e)}))}(g,e,function(e,t){return function(n){var r=n.name,a=n.number;t.personSetter(e.concat({name:r,number:a})),p({content:"Added ".concat(r),type:"notification",msgSetter:t.notificationSetter,typeSetter:t.msgTypeSetter,duration:5e3})}}(n,t),v(t.notificationSetter,t.msgTypeSetter))}}function j(e,t){return function(n){n.preventDefault(),t.nameSetter(""),t.numberSetter(""),""!==e.name.replace("/s/g","")&&y(E(e,t),t).call()}}function w(e,t,n){return function(r){var a=e.filter((function(e){return e.name!==t}));if(0===r.length)return p({content:"Information on ".concat(t," no longer exists"),type:"error",msgSetter:n.notificationSetter,typeSetter:n.msgTypeSetter,duration:5e3}),void n.personSetter(a);var o=Object(i.a)(r,1)[0];!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s;l.a.delete(e).then((function(e){t(e.data)})).catch((function(e){n(e)}))}("".concat(g,"/").concat(o.id),function(e,t,n){return function(){n.personSetter(e),p({content:"Deleted ".concat(t.name),type:"notification",msgSetter:n.notificationSetter,typeSetter:n.msgTypeSetter,duration:5e3})}}(a,o,n),v(n.notificationSetter,n.msgTypeSetter)),n.personSetter(a)}}function O(e,t){return function(n){window.confirm("Delete ".concat(n.target.value,"?"))&&h(n.target.value,w(e,n.target.value,t),t)}}var T=function(e){e.persons;var t=e.request,n=e.context;return a.a.createElement("form",null,a.a.createElement(S,{type:"text",description:"name: ",value:t.name,setter:n.nameSetter}),a.a.createElement(S,{type:"tel",description:"number: ",value:t.number,setter:n.numberSetter}),a.a.createElement("p",null,a.a.createElement("button",{onClick:j(t,n)},"add/update")))},k=function(e){var t=e.persons,n=e.filter,r=e.context,o=t.filter((function(e){return t=e.name,r=n,t=t.replace("/s/g","").toLowerCase(),r=r.replace("/s/g","").toLowerCase(),t.includes(r);var t,r})).map((function(e){var n=e.name,o=e.number;return a.a.createElement("li",{key:n},n,"\xa0",o,"\xa0",a.a.createElement("button",{value:n,onClick:O(t,r)},"delete"))}));return a.a.createElement("ul",{style:{listStyleType:"none"}},o)},x=(n(36),function(e){var t=e.message,n=e.type;return a.a.createElement("div",{className:n},t)}),C=function(){var e=Object(r.useState)([]),t=Object(i.a)(e,2),n=t[0],o=t[1],c=Object(r.useState)(""),u=Object(i.a)(c,2),l=u[0],m=u[1],s=Object(r.useState)(""),f=Object(i.a)(s,2),p=f[0],S=f[1],g=Object(r.useState)(""),v=Object(i.a)(g,2),b=v[0],h=v[1],E=Object(r.useState)(null),j=Object(i.a)(E,2),w=j[0],O=j[1],C=Object(r.useState)(""),D=Object(i.a)(C,2),I=D[0],q={name:l,number:p},J={personSetter:o,nameSetter:m,numberSetter:S,notificationSetter:O,msgTypeSetter:D[1]};return Object(r.useEffect)(y(o,J),[]),a.a.createElement(a.a.Fragment,null,a.a.createElement("h2",null,"Phonebook"),a.a.createElement(x,{message:w,type:I}),a.a.createElement(d,{keyword:b,setter:h}),a.a.createElement("h2",null,"add a new"),a.a.createElement(T,{persons:n,request:q,context:J}),a.a.createElement("h2",null,"Numbers"),a.a.createElement(k,{persons:n,filter:b,context:J}))};c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(C,null)),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.656d96a0.chunk.js.map